文件系统
2015年11月16日

---------------------对象---------------------
Page 页

FilePageManager 页式文件系统操作

BufPageManager 页式文件系统页操作（缓存）
    getPage
    releasePage
    使用LRUCache

LRUCache LRU算法的缓存

DbPageUser, TablePageUser, DataPageUser
    页操作

---------------------数据库文件---------------------
库页（第一页）
    每个数据库文件的第一页为库页，存放库的相关信息
    库信息  256字节
        表个数 4
    页管理位图 4096字节 (集合了GAM的功能，4096*8=32768页）
    表信息  3840字节 (最多可管理30个表）
        表首页（每个表的数据根页）位置，表名 124字节 占128字节

表首页
    表信息 256
        表名 124字节
        表属性 4字节
            0 是否有primary
        表首页索引 4字节
        数据页首页索引 4字节
        列数 2字节
        记录长度 2字节
        记录总数 4字节

    列信息 8192-256
        列名称 120字节 列属性 4字节 列数据类型 2字节 列数据长度 2字节
        列属性 4*8位
            0 是否允许NULL
            1 是否primary

数据页
    信息  96字节
        页号 4
        上一个页 4
        下一个页 4
        数据页属性 2
            0 是否有主索引
        记录的长度 2
        记录的个数 4
        记录的最大数 4
    行记录部分 8096字节
        位数组，标记空闲位置，向上取整到字节
        数据行结构

---------------------行结构---------------------
行结构
    状态位 2
    定长部分的长度 2
    列数 2
    定长数据 n
    NULL位图 ceil(列数/8)
